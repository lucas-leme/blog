<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Analista Quant e Cientista de Dados, formado em Engenharia da Computação pela Poli-USP, com interesse em Macroeconomia, Tecnologia e Ciência de Dados.">
<meta name="dcterms.date" content="2023-10-20">
<meta name="keywords" content="Lucas Leme, Lucas Leme Santos, Lucas Leme Blog, Quant, Macro, Data Science, Mercado Financeiro, Tecnologia">
<meta name="description" content="Blog pessoal de Lucas Leme, com artigos sobre Data Science, Mercado Financeiro, Tecnologia e outros temas.">

<title>Lucas Leme - Blog – Lucas Leme</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet" class="quarto-color-scheme-extra">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-cdcf0cfae255f3f4a9e8268e6b5d6bf4.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-bcde8418d55af04076ba6daa1ec940a1.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-cdcf0cfae255f3f4a9e8268e6b5d6bf4.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-6ET4F49FZC"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-6ET4F49FZC', { 'anonymize_ip': true});
</script>


<meta property="og:title" content="Lucas Leme - Blog">
<meta property="og:description" content="">
<meta property="og:image" content="https://huggingface.co/lucas-leme/FinBERT-PT-BR/resolve/main/sentiment_index_and_economy.png">
<meta property="og:site_name" content="Lucas Leme">
</head>

<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Lucas Leme</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../"> 
<span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../feed/"> 
<span class="menu-text">Feed</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Sobre</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/lucas-leme-santos/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/lucas-leme"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">FinBERT-PT-BR: Sentiment Analysis of Texts in Portuguese from the Financial Market</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">quant</div>
                <div class="quarto-category">nlp</div>
                <div class="quarto-category">english</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta column-page-left">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Lucas Leme Santos </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 20, 2023</p>
      </div>
    </div>
    
      
    </div>
    

  <div>
    <div class="keywords">
      <div class="block-title">Keywords</div>
      <p>Lucas Leme, Lucas Leme Santos, Lucas Leme Blog, Quant, Macro, Data Science, Mercado Financeiro, Tecnologia</p>
    </div>
  </div>
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#understanding-sentiment-analysis-in-finance" id="toc-understanding-sentiment-analysis-in-finance" class="nav-link" data-scroll-target="#understanding-sentiment-analysis-in-finance">Understanding Sentiment Analysis in Finance</a></li>
  <li><a href="#introducing-finbert-pt-br-a-novel-approach-for-analyzing-brazilian-markets" id="toc-introducing-finbert-pt-br-a-novel-approach-for-analyzing-brazilian-markets" class="nav-link" data-scroll-target="#introducing-finbert-pt-br-a-novel-approach-for-analyzing-brazilian-markets">Introducing FinBERT-PT-BR: A Novel Approach for Analyzing Brazilian Markets</a></li>
  <li><a href="#training-finbert-pt-br-on-a-massive-dataset-of-financial-news" id="toc-training-finbert-pt-br-on-a-massive-dataset-of-financial-news" class="nav-link" data-scroll-target="#training-finbert-pt-br-on-a-massive-dataset-of-financial-news">Training FinBERT-PT-BR on a Massive Dataset of Financial News</a></li>
  <li><a href="#evaluating-model-performance-against-other-state-of-the-art-methods" id="toc-evaluating-model-performance-against-other-state-of-the-art-methods" class="nav-link" data-scroll-target="#evaluating-model-performance-against-other-state-of-the-art-methods">Evaluating Model Performance Against Other State-of-the-Art Methods</a></li>
  <li><a href="#applications-of-finbert-pt-br-sentiment-indices-and-trading-strategies" id="toc-applications-of-finbert-pt-br-sentiment-indices-and-trading-strategies" class="nav-link" data-scroll-target="#applications-of-finbert-pt-br-sentiment-indices-and-trading-strategies">Applications of FinBERT-PT-BR: Sentiment Indices and Trading Strategies</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">






<p>Training LLM to analyze the Brazilian financial news.</p>
<blockquote class="blockquote">
<p>This post was automatically generated using <a href="https://app.hypotenuse.ai">Hypotenuse AI</a>, based on my publication <a href="https://sol.sbc.org.br/index.php/bwaif/article/view/24960">FinBERT-PT-BR: Análise de Sentimentos de Textos em Português do Mercado Financeiro</a>. The model is available for free on <a href="https://huggingface.co/lucas-leme/FinBERT-PT-BR">Hugging Face</a>.</p>
</blockquote>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Hey there, have you ever wondered if you could predict the ups and downs of the stock market?</p>
<p>Using FinBERT, an AI model trained on financial news in Portuguese, you absolutely can.</p>
<p>FinBERT analyzes thousands of news articles and social media posts to determine the overall sentiment of investors in Brazil’s stock market. If FinBERT detects an increase in positive sentiment, it’s likely stock prices will rise. A swing towards more negative sentiment suggests a downturn may be on the horizon. By tracking these sentiment shifts, FinBERT can identify trends in the market and even predict changes before they happen.</p>
<p>In this article, we’ll explore how FinBERT works, see examples of its accuracy, and discuss how similar AI could be applied to stock markets around the world. If you’re an investor looking for an edge, sentiment analysis with neural networks may be the insight you’ve been searching for.</p>
<p>Ready to take a peek inside the minds of investors? Let’s dive in.</p>
<section id="understanding-sentiment-analysis-in-finance" class="level2">
<h2 class="anchored" data-anchor-id="understanding-sentiment-analysis-in-finance">Understanding Sentiment Analysis in Finance</h2>
<section id="understanding-sentiment-analysis-in-finance-1" class="level3">
<h3 class="anchored" data-anchor-id="understanding-sentiment-analysis-in-finance-1">Understanding Sentiment Analysis in Finance</h3>
<p>Sentiment analysis allows us to gage the overall opinion or emotional tone behind words and phrases in text data. In finance, it provides a way to analyze how market participants feel about stocks, sectors or the overall market based on news articles, social media posts, and other commentary.</p>
<p>By tracking sentiment over time, you can identify trends that may impact stock prices or market movements. For example, increasingly positive sentiment surrounding a company could signal an upward trend in their stock price. Negative sentiment following a product launch, on the other hand, may indicate lower future earnings.</p>
<p>Of course, sentiment is not the only driver of the markets, but when combined with fundamental and technical analysis, it can provide additional insight into the psychology of investors and analysts. Sentiment analysis models are trained on large datasets of text that have been manually labeled as positive, negative or neutral. The models can then automatically analyze new text and determine an overall sentiment score.</p>
<p>More advanced models like BERT (Bidirectional Encoder Representations from Transformers) use neural networks to understand context and complex language nuances. FinBERT-PT-BR, for example, is a Portuguese sentiment analysis model for financial news articles. It was trained on 1.4 million unlabeled news articles and 500 manually labeled articles to better understand the sentiment of financial texts.</p>
<p>With the right tools and models, sentiment analysis can offer a useful metric for gaging market psychology and detecting shifts in investor moods and behaviors. When combined with other market indicators, it provides another layer of insight to drive smarter investment decisions.</p>
</section>
</section>
<section id="introducing-finbert-pt-br-a-novel-approach-for-analyzing-brazilian-markets" class="level2">
<h2 class="anchored" data-anchor-id="introducing-finbert-pt-br-a-novel-approach-for-analyzing-brazilian-markets">Introducing FinBERT-PT-BR: A Novel Approach for Analyzing Brazilian Markets</h2>
<p>So, you want to analyze the Brazilian stock market using neural networks, huh? FinBERT-PT-BR is a state-of-the-art language model tailored for this purpose.</p>
<section id="training-the-model" class="level3">
<h3 class="anchored" data-anchor-id="training-the-model">Training the Model</h3>
<p>To build FinBERT-PT-BR, we first collected millions of finance news articles from major Brazilian media outlets like Valor Econômico, Exame and InfoMoney. We then fine-tuned BERTimbau, a general Portuguese language model, on this dataset.</p>
<p>The fine-tuned model, FinBERT-PT-BR, was then trained further on a subset of 500 manually labeled news articles to generate SentFinBERT-PT-BR, a sentiment classifier. SentFinBERT-PT-BR assigns one of three sentiment labels (positive, negative or neutral) to sentences in Portuguese finance news.</p>
</section>
<section id="evaluating-performance" class="level3">
<h3 class="anchored" data-anchor-id="evaluating-performance">Evaluating Performance</h3>
<p>We evaluated SentFinBERT-PT-BR on various metrics and compared it to other models. SentFinBERT-PT-BR outperformed the current state-of-the-art, demonstrating its power for building sentiment indices, crafting investment strategies, and analyzing macroeconomic trends.</p>
<p>FinBERT-PT-BR and SentFinBERT-PT-BR show the potential of natural language processing and neural networks for quantitative finance. SentFinBERT-PT-BR in particular can help investors gain valuable insights into market sentiment and make more informed decisions.</p>
<p>While finance news sentiment is just one piece of the puzzle, it provides an extra data point to consider when analyzing stocks or the overall market. Paired with fundamental and technical analysis, sentiment analysis gives investors another tool to potentially achieve higher returns.</p>
</section>
</section>
<section id="training-finbert-pt-br-on-a-massive-dataset-of-financial-news" class="level2">
<h2 class="anchored" data-anchor-id="training-finbert-pt-br-on-a-massive-dataset-of-financial-news">Training FinBERT-PT-BR on a Massive Dataset of Financial News</h2>
<p>To train FinBERT-PT-BR, we gathered a massive dataset of 2.7 million financial news articles published between 2006 to 2021 from Valor Econômico, Exame and InfoMoney, totaling 130 million words.</p>
<p>After collecting the texts, we cleaned the data by removing HTML tags, uncommon symbols and punctuation, and performed spell checking. We then segmented the texts into sentences to obtain a total of 1.4 million sentences.</p>
<section id="pre-training-finbert-pt-br" class="level3">
<h3 class="anchored" data-anchor-id="pre-training-finbert-pt-br">Pre-training FinBERT-PT-BR</h3>
<p>We used BERTimbau, a BERT model pretrained on Brazilian Portuguese data, to initialize FinBERT-PT-BR. We then fine-tuned BERTimbau on our dataset of financial news articles through self-supervised tasks like masked language modeling and next sentence prediction.</p>
<p>This pre-training allows the model to learn the language used in financial news and capture relationships between words, phrases, and concepts. The pre-trained FinBERT-PT-BR model can then be used for various downstream tasks like sentiment analysis, named entity recognition, question answering, and more.</p>
</section>
<section id="sentiment-labeling" class="level3">
<h3 class="anchored" data-anchor-id="sentiment-labeling">Sentiment Labeling</h3>
<p>To train the sentiment classifier SentFinBERT-PT-BR, we manually labeled a subset of 500 sentences from our dataset with sentiment polarity: positive, negative or neutral. The neutral class represents sentences with no clear sentiment or mixed sentiments.</p>
<p>These labeled sentences were then used to fine-tune the pre-trained FinBERT-PT-BR model for sentiment classification. The fine-tuned model, SentFinBERT-PT-BR, can classify the sentiment of new sentences with a high degree of accuracy.</p>
<p>In summary, the massive dataset, pre-training, and sentiment labeling were key to developing an advanced sentiment analysis model for financial news in Brazilian Portuguese. FinBERT-PT-BR and SentFinBERT-PT-BR achieve state-of-the-art performance on this task and can enable new applications like sentiment trading strategies, macroeconomic analysis, and stock market prediction.</p>
</section>
</section>
<section id="evaluating-model-performance-against-other-state-of-the-art-methods" class="level2">
<h2 class="anchored" data-anchor-id="evaluating-model-performance-against-other-state-of-the-art-methods">Evaluating Model Performance Against Other State-of-the-Art Methods</h2>
<p>Evaluating how well your model performs is key to understanding its effectiveness and limitations. There are a few ways to measure this for sentiment analysis models.</p>
<p>Accuracy and F1 score are two of the most common metrics used. Accuracy measures how often the model correctly predicts the sentiment label, while the F1 score considers both precision (how often the model is correct when it predicts a certain label) and recall (how often the model predicts the correct label). For sentiment analysis, F1 scores for each label (positive, negative and neutral) are often reported.</p>
<p>The FinBERT-PT-BR model showed strong performance on these metrics compared to other state-of-the-art models. It achieved an accuracy of 0.76 and F1 scores of 0.73. These scores demonstrate the model is quite adept at predicting sentiment for financial news articles.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Model</th>
<th>Accuracy</th>
<th>F1-Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>FinBERT-PT-BR</td>
<td>0.76</td>
<td>0.73</td>
</tr>
<tr class="even">
<td>BERTimbau</td>
<td>0.67</td>
<td>0.63</td>
</tr>
</tbody>
</table>
<p>Another way to evaluate the model is to look at specific examples it analyzed to get a qualitative sense of its performance. For example, the model correctly predicted positive sentiment for news articles announcing interest rate cuts, new investments in the economy and rising stock prices. It identified negative sentiment for news covering increasing unemployment, declining GDP and trade disputes.</p>
<p>The model did struggle at times with complex articles and with specific words like “abertura” (opening) and “fechamento” (closing) of interest rates.</p>
<p>Overall though, the FinBERT-PT-BR model shows a lot of promise for analyzing sentiment in Portuguese financial news articles. With strong scores on key metrics and examples demonstrating logical predictions, this model could be useful for building sentiment indices, investment strategies and gaining insights from macroeconomic news. Continued development of the model and application to new data sets will help unlock even more potential.</p>
</section>
<section id="applications-of-finbert-pt-br-sentiment-indices-and-trading-strategies" class="level2">
<h2 class="anchored" data-anchor-id="applications-of-finbert-pt-br-sentiment-indices-and-trading-strategies">Applications of FinBERT-PT-BR: Sentiment Indices and Trading Strategies</h2>
<p>FinBERT-PT-BR can be used to build sentiment indices and trading strategies based on sentiment data. By analyzing sentiment expressed in financial news articles, FinBERT-PT-BR provides insights into overall market sentiment and stock-specific sentiment.</p>
<section id="sentiment-indices" class="level3">
<h3 class="anchored" data-anchor-id="sentiment-indices">Sentiment Indices</h3>
<p>FinBERT-PT-BR can be used to build broad market sentiment indices based on sentiment scores aggregated from many financial news articles. For example, a “bullish sentiment index” could track the percentage of positively-scored sentences in articles over time. If sentiment is largely optimistic, the index would increase, signaling a good time to invest. If pessimism reigns, the index may predict a market downturn.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://huggingface.co/lucas-leme/FinBERT-PT-BR/resolve/main/sentiment_index_and_economy.png" class="img-fluid figure-img"></p>
<figcaption>Sentiment Index</figcaption>
</figure>
</div>
</section>
<section id="stock-specific-sentiment" class="level3">
<h3 class="anchored" data-anchor-id="stock-specific-sentiment">Stock-Specific Sentiment</h3>
<p>FinBERT-PT-BR also enables analysis of sentiment targeting specific stocks or companies. By extracting sentences mentioning a stock ticker or company name, FinBERT-PT-BR can gage sentiment surrounding that asset. Bullish sentiment could indicate a good buying opportunity or price increase, while bearish sentiment may foreshadow a price drop.</p>
</section>
<section id="trading-strategies" class="level3">
<h3 class="anchored" data-anchor-id="trading-strategies">Trading Strategies</h3>
<p>Using sentiment indices and stock-specific sentiment, you can build basic trading strategies. For example, you might buy stocks with bullish sentiment and sell stocks with bearish sentiment. You could also wait for sentiment reversals, buying when pessimism spikes and selling into optimism. More advanced strategies could combine sentiment with fundamental and technical analysis.</p>
<p>While sentiment alone should not drive investment decisions, FinBERT-PT-BR provides an additional data point to incorporate into a holistic trading strategy. Used properly, natural language processing and sentiment analysis can give investors an “edge” by identifying sentiment shifts early. However, sentiment is often short-lived and volatile, so strategies should account for this variability. Overall, FinBERT-PT-BR opens up many possibilities for quantitative and algorithmic trading based on insights from financial news.</p>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>So there you have it, a promising new tool for analyzing the ups and downs of the Brazilian stock market. FinBERT-PT-BR isn’t magic - it requires training data and tuning to perform at its best. But with some time and effort, it can provide insights into how investors are feeling about companies and sectors that traditional metrics alone may miss. The future of AI in finance looks bright.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/lucas-leme\.github\.io\/blog\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>As informações aqui apresentadas não constituem recomendações de investimento ou aconselhamento financeiro.<br>Todo conteúdo é de caráter informativo e educacional.</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>